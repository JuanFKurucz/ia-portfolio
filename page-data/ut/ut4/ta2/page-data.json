{"componentChunkName":"component---src-templates-post-jsx","path":"/ut/ut4/ta2","result":{"data":{"markdownRemark":{"html":"<p>En este artículo utilizaremos árboles de decisiones en RapidMiner para atacar la problemática de una compañía de venta de dispositivos electrónicos en línea.</p>\n<h1>Entendimiento del problema</h1>\n<p>El escenario consiste en una empresa lanzando un nuevo producto al mercado, y se quiere analizar qué es lo que hace que algunas personas tomen la decisión de comprar un nuevo producto al momento de lanzamiento mientras que otras no lo hacen tan tempranamente. Se cuenta con datos de clientes que ya han comprado productos de esta forma y datos de clientes que no lo han hecho.</p>\n<h1>Comprensión de los datos</h1>\n<p>Se nos ofrecen los siguientes archivos de datos:</p>\n<ul>\n<li><a href=\"https://github.com/JuanFKurucz/ia-portfolio/blob/main/content/posts/ut/ut4/ta/ta2/eReader_Training.csv\">eReader_Training.csv</a></li>\n<li><a href=\"https://github.com/JuanFKurucz/ia-portfolio/blob/main/content/posts/ut/ut4/ta/ta2/eReader_Scoring.csv\">eReader_Scoring.csv</a></li>\n</ul>\n<p>A su vez se nos otorga una descripción de los mismos:</p>\n<ul>\n<li><strong>ID</strong>: identificador único del cliente, numérico</li>\n<li><strong>Edad</strong>: la edad en años redondeada al entero más cercano.</li>\n<li><strong>EstadoCivil</strong>: “C” para los casados, “S” para todas las otras alternativas.\nSexo: F = femenino; M= masculino.\nActividadWebsite: refleja el nivel de actividad en el sitio web: Escasa, Regular o Frecuente</li>\n<li><strong>MiroElectronicos12</strong>: indica si la persona hay mirado o no productos electrónicos en el sitio de la compañía (SI\n/ NO) en el último año</li>\n<li><strong>ComproElectronicos12</strong>: indica si la persona ha comprado o no productos electrónicos en el sitio de la\ncompañía en el último año (SI / NO)</li>\n<li><strong>ComproMedios18</strong>: indica si la persona ha comprado o no productos digitales (ej: MP3) en el sitio de la\ncompañía en el último año y medio (SI / NO). Este atributo NO incluye libros digitales</li>\n<li><strong>ComproLibrosDigitales</strong>: Martín cree que este atributo puede ser un muy buen indicador del comportamiento\nde compra para el nuevo eReader, y por ello se lo ha separado de los demás atributos que refieren a compras.\nEn este caso se indica si el cliente alguna vez compró libros digitales, no se restringe sólo al último año.</li>\n<li>\n<p><strong>MetodoPago</strong>: la forma más frecuente en que el cliente ha efectuado sus pagos:</p>\n<ul>\n<li>transferencia bancaria</li>\n<li>CuentaWebsite – el cliente ha dispuesto una tarjeta de crédito o cuenta bancaria para débito\nautomático en el sitio</li>\n<li>TarjetaCredito – el cliente ingresa los datos de la tarjeta y autorización en cada compra</li>\n<li>DebitoMensual – el cliente realiza compras regularmente y recibe una factura que puede abonar\nmensualmente</li>\n</ul>\n</li>\n<li><strong>AdopcionEReader</strong>: este atributo existe sólo en el dataset de entrenamiento. Tiene los datos de los clientes\nque han comprado eReaders de generaciones anteriores. Los que compraron dentro de una semana del\nlanzamiento son registrados como “Innovadores”. Los que compraron entre una y tres semanas luego del\nlanzamiento, se registran como “AdoptanteTemprano”. Luego de tres semanas, pero dentro de los primeros\n2 meses, se consideran “MayoriaTemprana” y los demás, “MayoríaTardía”. Este atributo servirá como\netiqueta al aplicar el modelo al dataset de evaluación. </li>\n</ul>\n<p>Las descripciones de los atributos parecen ser suficientes como para indagar en profundidad, podemos ver que la mayoría son atributos polinomiales o binomiales, y en este caso tenemos solamente un valor continuo para la edad.</p>\n<h1>Preparación de los datos</h1>\n<p>Para la preparación de los datos se tomaron las siguientes medidas:</p>\n<ul>\n<li>Detección de outliers tomando una distancia euclídea y 10 casos, estos fueron filtrados posteriormente</li>\n<li>Target encoding, siendo que no es necesario estrictamente hacer esto para un modelo que usa árboles de decisión, vimos que aplicarlo mejoraba la performance en validación.</li>\n<li>Normalización, con todos los datos ahora numéricos se normalizaron los rangos de los mismos, se aplicó una normalización de Z-transformation</li>\n</ul>\n<p>A continuación se puede ver el proceso de preprocesamiento que hicimos en RapidMiner</p>\n<p><img src=\"https://github.com/JuanFKurucz/ia-portfolio/blob/main/content/posts/ut/ut4/ta/ta2/preprocessing.png?raw=true\" alt=\"preprocessing\"></p>\n<h1>Modelado</h1>\n<h2>Experimentación</h2>\n<p>Para ver los mejores parámetros del modelo se hizo una experimentación variando diferentes parámetros a mano, a continuación podemos ver diferentes resultados</p>\n<p><img src=\"https://github.com/JuanFKurucz/ia-portfolio/blob/main/content/posts/ut/ut4/ta/ta2/exp_accuracy.png?raw=true\" alt=\"exp_accuracy\">\n<img src=\"https://github.com/JuanFKurucz/ia-portfolio/blob/main/content/posts/ut/ut4/ta/ta2/exp_gainratio.png?raw=true\" alt=\"exp_gainratio\">\n<img src=\"https://github.com/JuanFKurucz/ia-portfolio/blob/main/content/posts/ut/ut4/ta/ta2/exp_giniindex.png?raw=true\" alt=\"exp_giniindex\">\n<img src=\"https://github.com/JuanFKurucz/ia-portfolio/blob/main/content/posts/ut/ut4/ta/ta2/exp_informationgain.png?raw=true\" alt=\"exp_informationgain\"></p>\n<h2>Modelo final</h2>\n<p>Se tomaron los siguientes parámetros finales para el modelo de decision tree:\n<img src=\"https://github.com/JuanFKurucz/ia-portfolio/blob/main/content/posts/ut/ut4/ta/ta2/decisiontree.png?raw=true\" alt=\"decision tree\"></p>\n<p>Entrenar este modelo dio los siguientes resultados:</p>\n<p>Training:\n<img src=\"https://github.com/JuanFKurucz/ia-portfolio/blob/main/content/posts/ut/ut4/ta/ta2/performance_train.png?raw=true\" alt=\"performance_train\"></p>\n<p>Validation:\n<img src=\"https://github.com/JuanFKurucz/ia-portfolio/blob/main/content/posts/ut/ut4/ta/ta2/performance_val.png?raw=true\" alt=\"performance_val\"></p>\n<p>El proceso completo en RapidMiner se puede ver a continuación:</p>\n<p><img src=\"https://github.com/JuanFKurucz/ia-portfolio/blob/main/content/posts/ut/ut4/ta/ta2/rapidminer.png?raw=true\" alt=\"rapidminer\"></p>\n<h1>Deployment</h1>\n<p>Este modelo puede ser usado en producción como software que ayude a identificar posibles clientes a un equipo de ventas para ver cómo indagar y acercarse a los mismos. </p>\n<p><a href=\"https://github.com/JuanFKurucz/ia-portfolio/blob/main/content/posts/ut/ut4/ta/ta2/ta2.rmp\">Archivo de RapidMiner</a></p>\n<h1>Otras pruebas realizadas</h1>\n<p>En base a un árbol de decisión armado en RapidMiner se probará utilizando los siguientes parámetros</p>\n<ul>\n<li>Criterio: ganancia de información</li>\n<li>No preprunning</li>\n<li>No pruning</li>\n<li>Profundidad : -1 (todo lo que el algoritmo arme).</li>\n</ul>\n<p>A continuación se muestran los resultados de diferentes pruebas</p>\n<p><img src=\"https://github.com/JuanFKurucz/ia-portfolio/blob/main/content/posts/ut/ut4/ta/ta2/calculos.png?raw=true\" alt=\"Calculos\"></p>\n<p>Una mejor forma de visualizar estas comparaciones es gráficamente:</p>\n<p><img src=\"https://github.com/JuanFKurucz/ia-portfolio/blob/main/content/posts/ut/ut4/ta/ta2/grafica.png?raw=true\" alt=\"Grafica\"></p>\n<p>En el eje X tenemos las IDS y en el eje Y tenemos el valor de accuracy para trian y val respecto con sus colores. Como se puede ver los mejores modelos estarían entre el 3, 4 y el 10.</p>\n<p>El que obtuvo mejor valor de accuracy en validation es efectivamente el modelo 10 que fue entrenado con los siguientes parámetros:</p>\n<ul>\n<li>Se aplica preprunning</li>\n<li>No se aplicó pruning</li>\n<li>Se marcó una profundidad de 7</li>\n<li>Una ganancia mínima de 0,01</li>\n<li>Un tamaño mínimo de hoja de 1</li>\n<li>Un tamaño mínimo de partición de 10</li>\n<li>2 alternativas de preprunning</li>\n</ul>\n<h1>Archivos</h1>\n<ul>\n<li><a href=\"https://github.com/JuanFKurucz/ia-portfolio/blob/main/content/posts/ut/ut4/ta/ta2/ta3.rmp\">Archivo de RapidMiner</a></li>\n<li><a href=\"https://github.com/JuanFKurucz/ia-portfolio/blob/main/content/posts/ut/ut4/ta/ta2/calculos.xlsx\">Hoja de calculos de evaluaciones</a></li>\n</ul>","frontmatter":{"date":"2021-09-21","title":"Utilización de Árboles de decisión en RapidMiner","tags":["Algoritmos no lineales","Arbol de decision","RapidMiner","Performance","Accuracy","Gain ratio","Gini index","Information gain","eReader Dataset","Outliers","Target encoding","Normalizacion"],"cover":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAAG0kI4LAAAACXBIWXMAAAPoAAAD6AG1e1JrAAABJ0lEQVQY01VQ0VaCUBC8X90DWlfEgF7rlKWgRFraX6UiBCoeVHqcZm+cjj7Mubt7Z2dnV1lPCexoR2yhJOgSqhuVsF4WcN+P6MUV3wpKjzYNlazXkswNVGu4QitIyDhAjzN4H0coJ96j01/Cn9fwZyc44z0/TrhllxUsYT8u0A5XUFf3XxeSF/F42+Qc0wlZHFKeavohpWqNu88f2IMC7WANizac0YJ++jnEkxRkpGxgD76hoxxOlBgBb0aPOizQes4gr4wSz924NNBBYUY7TS4QjtT1qMBNkBtcBxmRoj1IoOQCPpXdeAf37W9huYZHB/LnEeLGnVboDHP0JhUvRpFwzXyFXpiaf9MjDqXJnR7gTMoz7Nl4Jt7An5/Mar5Bzbg2Iv8cxr+mrm/au10jDAAAAABJRU5ErkJggg==","aspectRatio":3.4782608695652173,"src":"/ia-portfolio/static/eb1814ffd45c096dc17d66cc9e8edc33/d10be/rapidminer.png","srcSet":"/ia-portfolio/static/eb1814ffd45c096dc17d66cc9e8edc33/0d3b3/rapidminer.png 480w,\n/ia-portfolio/static/eb1814ffd45c096dc17d66cc9e8edc33/263b6/rapidminer.png 960w,\n/ia-portfolio/static/eb1814ffd45c096dc17d66cc9e8edc33/d10be/rapidminer.png 1920w,\n/ia-portfolio/static/eb1814ffd45c096dc17d66cc9e8edc33/2707b/rapidminer.png 2352w","srcWebp":"/ia-portfolio/static/eb1814ffd45c096dc17d66cc9e8edc33/dc7e7/rapidminer.webp","srcSetWebp":"/ia-portfolio/static/eb1814ffd45c096dc17d66cc9e8edc33/83f4f/rapidminer.webp 480w,\n/ia-portfolio/static/eb1814ffd45c096dc17d66cc9e8edc33/ce114/rapidminer.webp 960w,\n/ia-portfolio/static/eb1814ffd45c096dc17d66cc9e8edc33/dc7e7/rapidminer.webp 1920w,\n/ia-portfolio/static/eb1814ffd45c096dc17d66cc9e8edc33/43af7/rapidminer.webp 2352w","sizes":"(max-width: 1920px) 100vw, 1920px"},"resize":{"src":"/static/eb1814ffd45c096dc17d66cc9e8edc33/73f08/rapidminer.png"}}}}}},"pageContext":{"pathSlug":"/ut/ut4/ta2","prev":{"frontmatter":{"path":"/pd/ut3/pd3","title":"Simulando el algoritmo de Análisis Discriminante Lineal en Excel","tags":["Algoritmos lineales","Análisis Discriminante Lineal","Excel"]}},"next":{"frontmatter":{"path":"/pd/ut4/pd2","title":"Utilizando KNIME para árboles de decisión","tags":["Algoritmos no lineales","Arbol de decision","KNIME"]}}}},"staticQueryHashes":["1830426702"]}